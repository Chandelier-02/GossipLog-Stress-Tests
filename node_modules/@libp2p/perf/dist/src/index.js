/**
 * @packageDocumentation
 *
 * The {@link PerfService} implements the [perf protocol](https://github.com/libp2p/specs/blob/master/perf/perf.md), which can be used to measure transfer performance within and across libp2p implementations.
 *
 * @example
 *
 * ```typescript
 * import { noise } from '@chainsafe/libp2p-noise'
 * import { yamux } from '@chainsafe/libp2p-yamux'
 * import { mplex } from '@libp2p/mplex'
 * import { tcp } from '@libp2p/tcp'
 * import { createLibp2p, type Libp2p } from 'libp2p'
 * import { plaintext } from '@libp2p/plaintext'
 * import { perf, type Perf } from '@libp2p/perf'
 *
 * const ONE_MEG = 1024 * 1024
 * const UPLOAD_BYTES = ONE_MEG * 1024
 * const DOWNLOAD_BYTES = ONE_MEG * 1024
 *
 * async function createNode (): Promise<Libp2p<{ perf: Perf }>> {
 *   return createLibp2p({
 *     addresses: {
 *       listen: [
 *         '/ip4/0.0.0.0/tcp/0'
 *       ]
 *     },
 *     transports: [
 *       tcp()
 *     ],
 *     connectionEncryption: [
 *       noise(), plaintext()
 *     ],
 *     streamMuxers: [
 *       yamux(), mplex()
 *     ],
 *     services: {
 *       perf: perf()
 *     }
 *   })
 * }
 *
 * const libp2p1 = await createNode()
 * const libp2p2 = await createNode()
 *
 * for await (const output of libp2p1.services.perf.measurePerformance(libp2p2.getMultiaddrs()[0], UPLOAD_BYTES, DOWNLOAD_BYTES)) {
 *   console.info(output)
 * }
 *
 * await libp2p1.stop()
 * await libp2p2.stop()
 * ```
 */
import { Perf as PerfClass } from './perf-service.js';
export function perf(init = {}) {
    return (components) => new PerfClass(components, init);
}
//# sourceMappingURL=index.js.map